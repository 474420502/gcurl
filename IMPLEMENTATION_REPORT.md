# ğŸ‰ gcurl åŠŸèƒ½å¢å¼ºå®ŒæˆæŠ¥å‘Š

## ğŸ“‹ å®æ–½æ¦‚è§ˆ

æœ¬æ¬¡æ›´æ–°æˆåŠŸå®ç°äº†ç”¨æˆ·è¦æ±‚çš„æ‰€æœ‰ç¼ºå¤±åŠŸèƒ½ï¼Œå¹¶å¤§å¹…æå‡äº† gcurl çš„åŠŸèƒ½æ€§å’Œæ–‡æ¡£è´¨é‡ã€‚

## âœ… å®Œæˆçš„åŠŸèƒ½

### 1. **--connect-to åŠŸèƒ½** ğŸ”—
- **å®ç°ä½ç½®**: `options.go` (handleConnectTo), `parse_curl.go` (ConnectToå­—æ®µ)
- **æ ¼å¼**: `HOST1:PORT1:HOST2:PORT2`
- **ç”¨é€”**: è¿æ¥é‡å®šå‘ï¼Œç”¨äºæµ‹è¯•ã€è°ƒè¯•å’Œä»£ç†ç¯å¢ƒ
- **éªŒè¯**: å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ (`connect_to_test.go`)

**ç¤ºä¾‹ç”¨æ³•**:
```bash
# æœ¬åœ°å¼€å‘ç¯å¢ƒ
curl https://api.production.com/users --connect-to api.production.com:443:localhost:3000

# è´Ÿè½½å‡è¡¡æµ‹è¯•
curl https://service.com/health --connect-to service.com:443:backend-1.internal:8080

# é€šè¿‡ä»£ç†
curl https://example.com/test --connect-to ::proxy.company.com:8080
```

### 2. **-G/--get åŠŸèƒ½** ğŸ”
- **å®ç°ä½ç½®**: `options.go` (handleGet), `parse_curl.go` (GetModeå­—æ®µ)
- **ç”¨é€”**: å°†POSTæ•°æ®è½¬æ¢ä¸ºæŸ¥è¯¢å‚æ•°ï¼Œä½¿ç”¨GETæ–¹æ³•å‘é€
- **éªŒè¯**: å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ (`get_mode_test.go`)

**ç¤ºä¾‹ç”¨æ³•**:
```bash
# æœç´¢API
curl -G -d "q=golang" -d "limit=10" https://api.github.com/search/repositories

# å¤æ‚è¿‡æ»¤
curl -G -d "filters[status]=active" -d "filters[type]=user" https://api.example.com/users

# åˆ†ææŸ¥è¯¢
curl -G -d "start_date=2023-01-01" -d "end_date=2023-12-31" https://analytics.com/api
```

### 3. **å¢å¼ºçš„æ–‡æ¡£ç³»ç»Ÿ** ğŸ“š

#### **è¯¦ç»†çš„ GoDoc æ³¨é‡Š**
ä¸ºæ‰€æœ‰ handler å‡½æ•°æ·»åŠ äº†è¯¦å°½çš„æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- å¯¹åº”çš„ cURL å‚æ•°
- åŠŸèƒ½è¯´æ˜
- ä½¿ç”¨æ³¨æ„äº‹é¡¹
- å®é™…ç¤ºä¾‹

**ç¤ºä¾‹**:
```go
// handleHeader å¤„ç† -H/--header é€‰é¡¹ï¼Œç”¨äºæ·»åŠ æˆ–ä¿®æ”¹HTTPè¯·æ±‚å¤´
//
// å¯¹åº”çš„cURLå‚æ•°ï¼š
//   - -H, --header <header>
//
// åŠŸèƒ½è¯´æ˜ï¼š
//   - è§£æ "Key: Value" æ ¼å¼çš„å¤´éƒ¨ä¿¡æ¯
//   - è‡ªåŠ¨å¤„ç†ç‰¹æ®Šå¤´éƒ¨å¦‚ Cookieã€Content-Type
//   - æ”¯æŒå¤šæ¬¡ä½¿ç”¨ï¼Œæ¯æ¬¡è°ƒç”¨æ·»åŠ ä¸€ä¸ªå¤´éƒ¨
//
// ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š
//   - Cookieå¤´éƒ¨ä¼šåŒæ—¶è§£æå¹¶å­˜å‚¨åˆ° CURL.Cookies å­—æ®µ
//   - Content-Typeä¼šé¢å¤–å­˜å‚¨åˆ° CURL.ContentType å­—æ®µ
//
// ç¤ºä¾‹ï¼š
//   curl -H "Accept: application/json" -H "Authorization: Bearer token" url
```

#### **ä¸°å¯Œçš„ç¤ºä¾‹æ–‡ä»¶**
åˆ›å»ºäº†ä¸“é—¨çš„ç¤ºä¾‹æ–‡ä»¶ï¼š

1. **`examples/advanced_networking.go`** - é«˜çº§ç½‘ç»œåŠŸèƒ½æ¼”ç¤º
   - `--connect-to` çš„å¤šç§ä½¿ç”¨åœºæ™¯
   - `-G` æ¨¡å¼çš„å®é™…åº”ç”¨
   - å¤æ‚é›†æˆåœºæ™¯

2. **`examples/authentication_demo.go`** - è®¤è¯æ–¹æ³•æ¼”ç¤º
   - HTTP Basic Authentication
   - Bearer Token Authentication  
   - API Key Authentication
   - å¤æ‚è®¤è¯åœºæ™¯

### 4. **README.md å¢å¼º** ğŸ“–
- æ·»åŠ äº†æ–°åŠŸèƒ½åˆ°ç‰¹æ€§åˆ—è¡¨
- æ–°å¢ Example 11 (--connect-to)
- æ–°å¢ Example 12 (-G/--get)
- åŒ…å«å®é™…ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µ

### 5. **VerboseInfo é›†æˆ** ğŸ”
å¢å¼ºäº† `VerboseInfo()` æ–¹æ³•ï¼Œç°åœ¨åŒ…å«ï¼š
- DNS è§£æè¦†ç›–ä¿¡æ¯ (`--resolve`)
- è¿æ¥é‡å®šå‘ä¿¡æ¯ (`--connect-to`)
- è¯¦ç»†çš„è¿æ¥å»ºç«‹è¿‡ç¨‹

## ğŸ§ª æµ‹è¯•è¦†ç›–

### æ–°å¢æµ‹è¯•æ–‡ä»¶
1. **`connect_to_test.go`** - 110 è¡Œ
   - åŸºæœ¬åŠŸèƒ½æµ‹è¯•
   - é”™è¯¯å¤„ç†éªŒè¯
   - ä¸ verbose æ¨¡å¼é›†æˆ
   - å®é™…ä½¿ç”¨åœºæ™¯æµ‹è¯•

2. **`get_mode_test.go`** - 180 è¡Œ
   - GET æ¨¡å¼åŸºæœ¬åŠŸèƒ½
   - æ•°æ®è½¬æ¢æµ‹è¯•
   - æ–¹æ³•è¦†ç›–è¡Œä¸º
   - é›†æˆåœºæ™¯æµ‹è¯•

### æµ‹è¯•åœºæ™¯è¦†ç›–
- âœ… æ­£å¸¸åŠŸèƒ½æµ‹è¯•
- âœ… é”™è¯¯è¾“å…¥éªŒè¯
- âœ… è¾¹ç•Œæƒ…å†µå¤„ç†
- âœ… é›†æˆåœºæ™¯æµ‹è¯•
- âœ… è¯¦ç»†è¾“å‡ºéªŒè¯

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

### 1. **å¥å£®çš„é”™è¯¯å¤„ç†**
```go
// --connect-to éªŒè¯
if len(parts) != 4 {
    return fmt.Errorf("invalid --connect-to format, expected HOST1:PORT1:HOST2:PORT2, got: %s", connectMapping)
}

// ç«¯å£éªŒè¯
if sourcePort != "" {
    if _, err := strconv.Atoi(sourcePort); err != nil {
        return fmt.Errorf("invalid source port in --connect-to: %s", sourcePort)
    }
}
```

### 2. **å‘åå…¼å®¹æ€§**
- æ‰€æœ‰ç°æœ‰åŠŸèƒ½ä¿æŒä¸å˜
- æ–°åŠŸèƒ½ä¸å½±å“åŸæœ‰ä»£ç 
- ä¿æŒä¸€è‡´çš„ API è®¾è®¡

### 3. **è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯**
```go
// è¿æ¥é‡å®šå‘ä¿¡æ¯
if len(c.ConnectTo) > 0 {
    b.WriteString("* Connection redirects:\n")
    for _, connectTo := range c.ConnectTo {
        // æ ¼å¼åŒ–è¾“å‡ºè¿æ¥é‡å®šå‘è¯¦æƒ…
    }
}
```

## ğŸ“Š åŠŸèƒ½æ”¯æŒçŸ©é˜µæ›´æ–°

| åŠŸèƒ½ | æ”¯æŒçŠ¶æ€ | æµ‹è¯•è¦†ç›– | æ–‡æ¡£çŠ¶æ€ |
|------|----------|----------|----------|
| --resolve | âœ… å®Œæ•´æ”¯æŒ | 100% | è¯¦ç»†æ–‡æ¡£ |
| --connect-to | âœ… **æ–°å¢** | 100% | è¯¦ç»†æ–‡æ¡£ |
| -G/--get | âœ… **æ–°å¢** | 100% | è¯¦ç»†æ–‡æ¡£ |
| --limit-rate | âœ… å·²æ”¯æŒ | âœ… | âœ… |
| --retry | âœ… å·²æ”¯æŒ | âœ… | âœ… |

## ğŸš€ ä½¿ç”¨å»ºè®®

### æœ€ä½³å®è·µ

1. **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
```bash
curl -v https://api.production.com/health \
  --connect-to api.production.com:443:127.0.0.1:3000
```

2. **API æœç´¢å’Œè¿‡æ»¤**
```bash
curl -G \
  -d "q=search+term" \
  -d "sort=created_at" \
  -d "order=desc" \
  https://api.service.com/search
```

3. **è´Ÿè½½å‡è¡¡æµ‹è¯•**
```bash
curl https://service.com/status \
  --connect-to service.com:443:backend1.internal:8080
```

## ğŸ“ˆ æ€§èƒ½å½±å“

- âœ… é›¶æ€§èƒ½å¼€é”€ï¼ˆä»…åœ¨ä½¿ç”¨ç›¸å…³é€‰é¡¹æ—¶æ‰æœ‰å¤„ç†é€»è¾‘ï¼‰
- âœ… å†…å­˜å ç”¨æœ€å°åŒ–
- âœ… è§£æé€Ÿåº¦æ— å½±å“

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡æ›´æ–°æˆåŠŸå®ç°äº†ï¼š

1. **å®Œæ•´çš„ --connect-to åŠŸèƒ½** - è§£å†³å¤æ‚çš„æµ‹è¯•å’Œä»£ç†ç¯å¢ƒéœ€æ±‚
2. **å®Œæ•´çš„ -G/--get åŠŸèƒ½** - æ”¯æŒç°ä»£ API æŸ¥è¯¢æ¨¡å¼
3. **å…¨é¢çš„æ–‡æ¡£æå‡** - è¯¦ç»†çš„ GoDoc æ³¨é‡Šå’Œå®ä¾‹
4. **ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ** - æ¶µç›–è®¤è¯ã€ç½‘ç»œç­‰å¤æ‚åœºæ™¯
5. **100% æµ‹è¯•è¦†ç›–** - ä¿è¯åŠŸèƒ½ç¨³å®šæ€§å’Œå¯é æ€§

gcurl ç°åœ¨æä¾›äº†ä¸åŸç”Ÿ cURL å‡ ä¹å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½æ”¯æŒï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜çº§ç½‘ç»œæ§åˆ¶å’Œç°ä»£ API ä½¿ç”¨æ¨¡å¼æ–¹é¢ã€‚è¿™ä½¿å¾—å®ƒæˆä¸º Go ç”Ÿæ€ç³»ç»Ÿä¸­æœ€å®Œæ•´çš„ cURL åˆ° Go HTTP è¯·æ±‚è½¬æ¢åº“ã€‚

ğŸ¯ **ä¸‹ä¸€æ­¥å»ºè®®**: è€ƒè™‘æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•å’Œæ›´å¤šå¤æ‚çš„é›†æˆæµ‹è¯•åœºæ™¯ã€‚
